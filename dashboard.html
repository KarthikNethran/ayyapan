<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sree Sasatha Seva Sangam</title>

<style>
/* ---------- BODY & BACKGROUND ---------- */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    background-image: url('lordayyappan.jpg'); /* Replace with your image path */
    background-size: cover;       /* Make image cover full screen */
    background-position: center;  /* Center the image */
    background-repeat: no-repeat; /* Prevent repeating */
    background-attachment: fixed; /* Stay fixed on scroll */
}

/* ---------- WRAPPER ---------- */
.wrap {
    width: 100%;
    max-width: 720px;
    padding: 16px;
    box-sizing: border-box;
}

/* ---------- FROSTED CARDS ---------- */
.card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
    margin-top: 12px;
}

/* ---------- HEADER ---------- */
.header {
    background: rgba(210, 180, 140, 0.85);
    padding: 18px;
    text-align: center;
    color: #4b2e15;
    font-weight: 700;
    border-bottom: 3px solid #b88a57;
    border-radius: 8px;
}

/* ---------- FORM ELEMENTS ---------- */
label { font-weight:600; font-size:14px; display:block; margin-top:10px; margin-bottom:6px; }
input, select { width:100%; padding:10px; border-radius:8px; border:1px solid #cfcfcf; font-size:15px; box-sizing:border-box; }
.row { display:flex; gap:10px; margin-top:6px; }
.col { flex:1; }
.payment-box { display:flex; justify-content:space-around; align-items:center; gap:10px; padding:10px; border-radius:8px; margin-top:6px; background: rgba(243,229,216,0.6); border:2px solid #b88a57; }
.payment-option { display:flex; align-items:center; gap:6px; font-size:15px; }
.controls { display:flex; gap:10px; margin-top:12px; align-items:center; flex-wrap:wrap; }
.btn { padding:12px 16px; border-radius:8px; border:none; background:#0066cc; color:#fff; font-weight:700; font-size:15px; cursor:pointer; }
.btn:disabled { opacity:0.6; cursor:not-allowed; }
.summary { display:flex; justify-content:space-between; gap:10px; margin-top:12px; }
.summary .box { flex:1; padding:10px; border-radius:8px; background: rgba(255,246,234,0.6); border:1px solid #f0d9b4; text-align:center; }
table { width:100%; border-collapse:collapse; margin-top:12px; font-size:14px; background: rgba(255,255,255,0.6); }
th, td { padding:8px; border:1px solid #eee; text-align:left; vertical-align:top; }
th { background: rgba(250,250,250,0.6); font-weight:700; }
.center { text-align:center; }

/* ---------- LOADER ---------- */
.loader { display:inline-block; width:18px; height:18px; border:3px solid #fff; border-radius:50%; border-top-color:#0066cc; animation:spin 1s linear infinite; vertical-align:middle; margin-left:8px; }

/* ---------- ANIMATIONS ---------- */
@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width:720px) {
    .row { flex-direction:column; }
    .controls { flex-direction:column; }
    .summary { flex-direction:column; }
    body { padding: 10px; }
}
</style>
</head>

<body>
<div class="wrap">

  <div class="header center">Swamiya Saranam Ayyappa</div>

  <!-- Form Card -->
  <div class="card">
    <h2 class="center" style="margin:0 0 6px 0;">Sree Sasatha Seva Sangam</h2>

    <label for="name">Name</label>
    <input id="name" type="text" placeholder="Enter name">

    <label for="door">Door No</label>
    <input id="door" type="text" placeholder="Door / Flat no">

    <label for="street">Street Name</label>
    <select id="street">
      <option>Maniyammai Street</option>
      <option>Kozhavizhi Amman 1st Street</option>
      <option>Kozhavizhi Amman 2nd Street</option>
      <option>Kozhavizhi Amman 3rd Street</option>
      <option>Kozhavizhi Amman 4th Street</option>
      <option>Kozhavizhi Amman 5th Street</option>
      <option>MGR Nagar 1st Street</option>
      <option>MGR Nagar 2nd Street</option>
      <option>MGR Nagar 3rd Street</option>
      <option>Govindha Nagar 1st Street</option>
      <option>Govindha Nagar 2nd Street</option>
      <option>Govindha Nagar 3rd Street</option>
    </select>

    <div class="row">
      <div class="col">
        <label for="amount">Amount</label>
        <input id="amount" type="number" min="0" placeholder="Amount">
      </div>
      <div class="col">
        <label for="balance">Balance</label>
        <input id="balance" type="number" min="0" placeholder="Balance">
      </div>
    </div>

    <label for="date">Date</label>
    <input id="date" type="date">

    <label for="mobile">Mobile Number</label>
    <input id="mobile" type="text" placeholder="Enter mobile number">

    <label>Payment Type</label>
    <div class="payment-box">
      <label class="payment-option"><input type="radio" name="payment" value="GPay"> GPay</label>
      <label class="payment-option"><input type="radio" name="payment" value="Cash"> Cash</label>
    </div>

    <label for="receiver">Receiver Name</label>
    <select id="receiver">
      <option>Gopi</option>
      <option>Mahalingam</option>
      <option>Karthikeyan</option>
      <option>Jaganathan</option>
      <option>Anandhan</option>
      <option>Subramani</option>
      <option>Saravanan</option>
      <option>Manjunathan</option>
    </select>

    <div style="margin-top:12px;">
      <button id="submitBtn" class="btn">Submit</button>
    </div>
  </div>

  <!-- Filter Card -->
  <div class="card">
    <h3 class="center">Date Filter & Report</h3>

    <div class="row">
      <div class="col">
        <label for="fromDate">From Date</label>
        <input id="fromDate" type="date">
      </div>
      <div class="col">
        <label for="toDate">To Date</label>
        <input id="toDate" type="date">
      </div>
    </div>

    <div style="margin-top:10px;">
      <label for="filterType">Show</label>
      <select id="filterType">
        <option value="amount">Total Amount</option>
        <option value="pending">Total Pending</option>
      </select>
    </div>

    <div class="controls">
      <button id="filterBtn" class="btn">Get Report</button>
      <div id="statusMsg" style="min-width:160px; text-align:right;"></div>
    </div>

    <div class="summary" id="summaryBox" style="display:none;">
      <div class="box"><strong>Total Amount</strong><div id="totalAmount">₹0</div></div>
      <div class="box"><strong>Total Pending</strong><div id="totalPending">₹0</div></div>
    </div>

    <div style="margin-top:10px; display:flex; gap:10px; align-items:center;">
      <button id="downloadBtn" class="btn" style="background:#28a745;">Download Report (CSV)</button>
      <div style="flex:1;"></div>
    </div>

    <div id="tableWrap" style="display:none; margin-top:12px;">
      <table id="resultTable">
        <thead>
          <tr>
            <th>Name</th><th>Door</th><th>Street</th><th>Amount</th><th>Balance</th><th>Payment</th><th>Receiver</th><th>Date</th><th>Mobile</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

</div>

<script>
// Your existing JS script here (fetching, submit, report, download)
// Make sure fetchReport() function is included in the script.
</script>

</body>
</html>
